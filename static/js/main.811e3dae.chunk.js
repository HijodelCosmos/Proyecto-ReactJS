(this["webpackJsonpmi-tienda"]=this["webpackJsonpmi-tienda"]||[]).push([[0],{27:function(t,e,c){},36:function(t,e,c){},37:function(t,e,c){},42:function(t,e,c){},45:function(t,e,c){},46:function(t,e,c){},48:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c(2),i=c.n(s),a=c(28),r=c.n(a),j=(c(36),c(5)),o=c(4),l=(c(37),c(30)),d=c(6),b=i.a.createContext(),A=function(t){var e=t.children,c=Object(s.useState)(0),i=Object(d.a)(c,2),a=i[0],r=i[1],j=Object(s.useState)([]),o=Object(d.a)(j,2),A=o[0],u=o[1],O=Object(s.useState)(0),h=Object(d.a)(O,2),x=h[0],m=h[1];return Object(n.jsx)(b.Provider,{value:{count:a,itemsInCart:A,totalPrice:x,addItem:function(t,e){r(a+e),m(x+t.price*e),t.cartcount=e,u([].concat(Object(l.a)(A),[t])),console.log("Usted Agrego "+e+" items al carrito")},isInCart:function(t){var e=A.find((function(e){return e.id===t}));return console.log(x),!!e},removeItem:function(t,e){var c=A.find((function(e){return e.id===t}));if(-1!==A.findIndex((function(e){return e.id===t}))){var n=A.map((function(t){return t===c&&(t.cartcount=t.cartcount-e),t}));if(u(n),console.log(n),r(a-e),m(x-c.price*e),console.log("Item Borrado"),0===c.cartcount){var s=A.filter((function(e){return e.id!==t&&e}));u(s)}}},clearCart:function(){m(0),r(0),u([]),console.log("El carrito vaciado exitosamente")}},children:e})},u=function(){var t=Object(s.useContext)(b).count;return Object(n.jsxs)("div",{children:[Object(n.jsx)("img",{className:"m-2 tada",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAN2AAADdgF91YLMAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAASlQTFRF////K1J/K1F+K1F9Jk+BJE+CHE2HHk2GJ0pzM0lkJkduJkZtNEhiKERoI0NoMUVfIkFlMkRcID5hIDxeID1fLj9VHzpaLT1SKjZIGS9JMD9TFipBHSo7JURqFSc8Hyg0HycyESAzESAxCCA8DB0vHSQtDBwvBx44GyEqEDlrKjA6DBYiEDtuBBUpMjdAAAAAAAEBAAIEAB0/ACpcAC5mADFqAEebAQIDAQMFAR5AATNsAUicAgIDAgQHAkqeCAgJDRAUDxwrEDtuEFitEkF6ElqvExQXE1yxFEN8FRUXFSc9FSk/FTNWFkyMFyxEFzVZF0+RGxsdGzNPG2S6Hme9I0JnJFaTJ1uXNDM2NGGXNH7WODk/OTg8OWunOYTcPHGvT05TV1ZcV6T/j/d8kQAAAC90Uk5TAAQKEBITFxdVamtwdHmHh5KUoKamrbK40NXV4eTm5+zu7/Dz8/P09fX4+Pn5+/zz9zhoAAABpklEQVR42u3ax1ICQRSFYRQTBhQzYgAMYMSIOYs5A2ZFef+HcDGnqe5xmnGQZNX5l7cvPV+xmGKBK2Zq2FXmCCCAgIoDOkx1BlBtuSXIK74KNwEEEEAAAQRUGhAO5WtsFmk3xMJE3ntCekCZIoAAAn4AmvxoFRvnaatuFlFa1zoWLi1Pr7WAXNvYeM5a9RFHWV07WHixPH0ngAACCCCAAAL+AWANGwdJqxICkNS1iYVDy9Mje8ACNpbipWiZAAIIsAeMRowmT42uUnIn4qaULvEeSCjTW9w2g9sjLtv8oF4U5U14j9sC9g8mgAACCCCAAAIIIIAAAqoOsJ+Re1xBGV0bWHhQpkPDRr3OAcXJ+/sHE0AAAVUHCLvl6hqQW1cjFuqVaU3hgJDzjxYnAgggoLnbqEv8t2MkKOe3a1BZby0c0lKUN2EPAQQQUDigTdxxfCYnptPm/2rO42BPWR/wGXmcA3ziUZ9fcmLaZ97fwsGTsn6HaZQAAggggAACnAM8UfT6Jiem7eb9cRzMKetTmPY7B+TajcnZrgeV9T/8HiCAAAJKBPgGWNJ5bXIsYBcAAAAASUVORK5CYII=",width:"60",alt:"Cart Icon"}),Object(n.jsx)("span",{className:"badge badge-danger badge-pill ".concat(t>0?"d-inline":"d-none"),children:t})]})},O=c.p+"static/media/logo.7dcd2f3e.png",h=function(){return Object(n.jsx)("header",{children:Object(n.jsx)("nav",{id:"navBar",className:"container align-items-start",children:Object(n.jsxs)("div",{className:"row justify-content-center align-items-end",children:[Object(n.jsxs)("div",{className:"row col-5 mt-2 align-items-end",children:[Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("img",{src:O,height:"100",alt:"Wizard Icon"})}),Object(n.jsx)(j.b,{to:"/",children:Object(n.jsx)("h1",{id:"navBar--title",className:"col-2 m-0 pt-0",children:"MAGIC TENT"})})]}),Object(n.jsx)("div",{className:"col-5",children:Object(n.jsxs)("ul",{id:"navBar--menu",children:[Object(n.jsx)("li",{className:"navBar--item",children:Object(n.jsx)(j.b,{to:"/",href:"./#home",children:"Home"})}),Object(n.jsx)("li",{className:"navBar--item",children:Object(n.jsx)("a",{href:"./#support",children:"About Us"})}),Object(n.jsxs)("li",{className:"navBar--item deploy_trigger",children:["Categories",Object(n.jsxs)("ul",{className:"deploy_menu",children:[Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/category:Potion",children:"Potions"})}),Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/category:Staff",children:"Staffs"})}),Object(n.jsx)("li",{children:Object(n.jsx)(j.b,{to:"/category:Cloak",children:"Cloaks"})})]})]})]})}),Object(n.jsx)("div",{className:" col-2",children:Object(n.jsx)(j.b,{to:"/cart",children:Object(n.jsx)(u,{})})})]})})})},x=(c(42),c(16)),m=function(t){var e=t.itemData,c=t.handlerClick,a=e&&e.stock,r=Object(s.useState)(!1),j=Object(d.a)(r,2),o=j[0],l=j[1],b=Object(s.useState)(!1),A=Object(d.a)(b,2),u=A[0],O=A[1],h=Object(s.useState)(!1),x=Object(d.a)(h,2),m=x[0],g=x[1],f=Object(s.useState)(a),p=Object(d.a)(f,2),C=p[0],N=p[1],I=Object(s.useState)(0),v=Object(d.a)(I,2),y=v[0],B=v[1];return Object(s.useEffect)((function(){N(a-y),O(y>=a),l(y<=0),g(y<=0)}),[y]),Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)("h6",{className:"text-left",children:["Stock : ",C]}),Object(n.jsxs)("div",{className:"row justify-content-between",children:[Object(n.jsx)("button",{className:"btn btn-sm btn-danger",disabled:o,type:"button",onClick:function(){y>0&&B(y-1)},children:Object(n.jsx)("h4",{children:"-"})}),Object(n.jsx)("h3",{children:y}),Object(n.jsx)("button",{className:"btn btn-sm btn-success",disabled:u,type:"button",onClick:function(){y<a&&B(y+1)},children:Object(n.jsx)("h4",{children:"+"})})]}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("button",{onClick:function(){return c(e,y)},type:"button",className:"btn btn-primary m-1 ",disabled:m,children:"Add to Cart"})})]})},g=(c(27),function(){return Object(n.jsx)(j.b,{to:"/cart",children:Object(n.jsx)("div",{className:"d-flex justify-content-center",children:Object(n.jsx)("button",{type:"button",className:"purchaseButton btn btn-success text-center mt-4",children:"Complete Purchase!"})})})}),f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAN2AAADdgF91YLMAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAIRQTFRF////eWkhbV8eaFocRDsTQTgSY1cbZFcbWU4ZUUYWU0gXAAAABwYCFxQGHxsJIR0JNzAPPzcRQjkSST8USkAUT0UWb2Eed2gheGghe2sifW0ij3wnlYIpl4MpoYwsp5Eur5gws5wxv6Y0x60348Y+58k/681B8dJC99dE+NhE/dxF/95GulNanwAAAAt0Uk5TADBwh93h4eHk/f3wOGBsAAABdElEQVR42u3b21LCMBAG4NKDllqQqkWrQhUFC3n/9/Oiu8xQJ0PibIip/3+dw5eZMqTpJopME99YJI7kAwAAAFwckGanyVuL5IPO6S8A5WBRlbJINehcAgAAAObzThJKUZ+msQE0g85THnVyFpAwulOC6XjUZEyA98c+r74AS2q4AAAAGUBa9ik6ipIEKB61oGl+7lAyGq42/m1bATg1dcoACBmwXvW5ox63q2PWFwHM9K8DMwAAAMAl4MD/J/NSmzm3OTgAbHiZW/36ttxmExAgpuRVn8YtoKFprnjeiLu05x4fGQCn5ZYAACAL2L9Rdp4A5gEAAAAACBHw+UJ5Wmrz7BIgsysGAAAAJAAPC23uPyhfLgHK06YUAAAAAAAAAHZ8+LDHEQ0AIwN4Oqy+Ph5W43tBOJ9sZF5MAAAAgFGUcHBQxjM2ABezTX0Vs6GeEIAAAd4Lm20SEsBNeX9hXt6PGxYAAPB3AN6v++HGJQAA/BfANzibdUc+fSCIAAAAAElFTkSuQmCC",p=function(t){var e=t.itemData,c=Object(s.useContext)(b),i=c.isInCart,a=c.addItem;return Object(n.jsxs)("div",{className:"card col-12 col-sm-10 col-md-12 col-lg-4  mt-5 rounded-lg",children:[Object(n.jsxs)("div",{className:"card-body text-center",children:[Object(n.jsx)("h3",{className:"card-title ",children:e.title}),Object(n.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:e.category}),Object(n.jsx)("img",{src:e.src,className:"m-2 img-fluid",width:"150",alt:"Descripcion de producto"}),Object(n.jsx)("p",{className:"card-text",children:e.description})]}),Object(n.jsxs)("div",{className:"text-center mb-2",children:[Object(n.jsxs)("h3",{children:[Object(n.jsx)("img",{src:f,width:"27",alt:"Coin Logo"}),"  ",e.price]}),Object(n.jsx)(j.b,{to:"/item:".concat(e.id),children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary ",children:"More Info"})})]}),Object(n.jsx)("div",{className:"card-footer",children:i(e.id)?Object(n.jsx)(g,{}):Object(n.jsx)(m,{itemData:e,handlerClick:a})})]})},C=function(t){var e=t.data;return Object(n.jsx)("div",{className:"card-deck justify-content-around",children:e&&e.map((function(t,e){return Object(n.jsx)(p,{itemData:t},e)}))})},N=c(25),I=(c(43),N.a.initializeApp({apiKey:"AIzaSyDw-rnDZnHzVsB8iT6PKy3VBPDjmGyF8p8",authDomain:"the-tent--react-proyect.firebaseapp.com",projectId:"the-tent--react-proyect",storageBucket:"the-tent--react-proyect.appspot.com",messagingSenderId:"1083262875967",appId:"1:1083262875967:web:44b945ebd514f67f97fb8a"})),v=function(){return N.a.firestore(I)},y=function(){var t=Object(s.useState)(null),e=Object(d.a)(t,2),c=e[0],i=e[1];return Object(s.useEffect)((function(){v().collection("items").get().then((function(t){0===t.size&&console.log("No results");var e=t.docs.map((function(t){return Object(x.a)({id:t.id},t.data())}));i(e)}))}),[]),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)(C,{data:c})})},B=function(t){var e=t.itemData,c=Object(s.useContext)(b),i=c.isInCart,a=c.addItem,r=c.removeItem;return e&&Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("h1",{className:"mt-4",children:e.title})}),Object(n.jsxs)("div",{className:"row justify-content-between p-2",children:[Object(n.jsx)("img",{src:e.src,className:"m-2 col-5",width:"100",alt:"Descripcion de producto"}),Object(n.jsxs)("div",{className:"col-5 m-2",children:[Object(n.jsx)("h3",{children:e.title}),Object(n.jsx)("h4",{className:"text-muted",children:e.category}),Object(n.jsx)("p",{children:e.description}),Object(n.jsxs)("h3",{className:"text-center",children:[Object(n.jsx)("img",{src:f,width:"32",alt:"Coin Logo"})," ",e.price]}),Object(n.jsx)("button",{onClick:function(){return r(e.id)},type:"button",className:"btn btn-danger m-1 ",children:"Delete Items"}),Object(n.jsx)("button",{onClick:function(){return i(e.id)},type:"button",className:"btn btn-warning m-1 ",children:"Is in cart?"}),i(e.id)?Object(n.jsx)(g,{}):Object(n.jsx)(m,{itemData:e,handlerClick:a})]})]})]})},F=(c(45),function(){var t=Object(s.useState)(null),e=Object(d.a)(t,2),c=e[0],i=e[1],a=Object(o.g)().itemId;return Object(s.useEffect)((function(){v().collection("items").doc(a.substr(1)).get().then((function(t){0===t&&console.log("No results"),console.log("Item Found!");var e=Object(x.a)({id:t.id},t.data());i(e)}))}),[]),Object(n.jsx)("div",{id:"itemDetail",className:"container justify-content-center",children:Object(n.jsx)(B,{itemData:c})})}),E=function(){var t=Object(o.g)().categoryId,e=Object(s.useState)(null),c=Object(d.a)(e,2),i=c[0],a=c[1];return Object(s.useEffect)((function(){var e=t.substr(1);v().collection("items").where("category","==",e).limit(3).get().then((function(t){0===t.size&&console.log("No results");var e=t.docs.map((function(t){return Object(x.a)({id:t.id},t.data())}));a(e)}))}),[t]),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)(C,{data:i})})},S=(c(46),function(t){var e=t.itemData,c=t.itemId,a=t.handlerClick,r=e&&e.cartcount,j=Object(s.useState)(!1),o=Object(d.a)(j,2),l=o[0],b=o[1],A=Object(s.useState)(!1),u=Object(d.a)(A,2),O=u[0],h=u[1],x=Object(s.useState)(!1),m=Object(d.a)(x,2),g=m[0],f=m[1],p=Object(s.useState)(0),C=Object(d.a)(p,2),N=C[0],I=C[1];return Object(s.useEffect)((function(){h(N>=r),b(N<=0),f(N<=0)}),[N]),Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)("div",{className:"row justify-content-center align-items-center",children:[Object(n.jsx)("button",{className:"countersButtons rounded-circle",disabled:l,type:"button",onClick:function(){N>0&&I(N-1)},children:"-"}),Object(n.jsx)("h4",{children:N}),Object(n.jsx)("button",{className:"countersButtons rounded-circle",disabled:O,type:"button",onClick:function(){N<r&&I(N+1)},children:"+"})]}),Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("button",{type:"button",disabled:g,onClick:function(){return a(c,N)},className:"btn btn-danger text-center",children:"Delete Items"})})]})}),w=function(){var t=Object(s.useContext)(b),e=t.itemsInCart,c=t.totalPrice,i=t.removeItem,a=t.clearCart;return Object(n.jsxs)("div",{id:"cart",className:"container",children:[Object(n.jsx)("div",{className:"row justify-content-center mt-5",children:Object(n.jsx)("h1",{id:"cart--title",children:"YOUR CART"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("table",{className:"table text-center mt-4",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:"Item"}),Object(n.jsx)("th",{children:"Price per Unit"}),Object(n.jsx)("th",{children:"Count"}),Object(n.jsx)("th",{children:"Total"}),Object(n.jsx)("th",{})]})}),Object(n.jsx)("tbody",{children:e.length?e.map((function(t,e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(j.b,{to:"/item:".concat(t.id),children:Object(n.jsx)("img",{src:t.src,className:"rounded-circle",width:"70",height:"70",alt:"Descripcion de producto"})})}),Object(n.jsx)("td",{children:Object(n.jsxs)(j.b,{to:"/item:".concat(t.id),children:[t.title,Object(n.jsx)("br",{}),Object(n.jsx)("h5",{className:"category--description",children:t.category})]})}),Object(n.jsxs)("td",{children:[Object(n.jsx)("img",{src:f,width:"27",alt:"Coin Logo"}),t.price]}),Object(n.jsx)("td",{children:t.cartcount}),Object(n.jsxs)("td",{children:[Object(n.jsx)("img",{src:f,width:"30",alt:"Coin Logo"}),t.cartcount*t.price]}),Object(n.jsx)("td",{children:Object(n.jsx)(S,{itemData:t,itemId:t.id,handlerClick:i})})]},e)})):Object(n.jsx)("tr",{children:Object(n.jsxs)("td",{colSpan:"6",children:[Object(n.jsx)("h3",{children:"There is nothing around here"}),Object(n.jsx)(j.b,{to:"./",children:Object(n.jsx)("button",{type:"button",className:"btn btn-success text-center",children:"Lets Go Shopping!"})})]})})}),Object(n.jsx)("tfoot",{children:Object(n.jsxs)("tr",{children:[e.length?Object(n.jsx)("td",{children:Object(n.jsx)("button",{id:"cart--clearButton",type:"button",onClick:function(){return a()},className:"btn btn-danger text-center",children:"Clear Cart"})}):Object(n.jsx)("td",{}),Object(n.jsx)("td",{colSpan:"5",children:Object(n.jsxs)("h3",{id:"cart--totalPrice",children:["TOTAL ",Object(n.jsx)("img",{src:f,width:"35",alt:"Coin Logo"}),c]})})]})})]})})]})};c(47);var k=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(j.a,{children:Object(n.jsxs)(A,{children:[Object(n.jsx)(h,{}),Object(n.jsx)(o.a,{from:"/Proyecto-ReactJS/",to:"/"}),Object(n.jsx)(o.d,{children:Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(o.b,{exact:!0,path:"/",children:Object(n.jsx)(y,{})}),Object(n.jsx)(o.b,{exact:!0,path:"/category:categoryId",children:Object(n.jsx)(E,{})}),Object(n.jsx)(o.b,{path:"/item:itemId",children:Object(n.jsx)(F,{})}),Object(n.jsx)(o.b,{path:"/cart",children:Object(n.jsx)(w,{})})]})})]})})})},D=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,49)).then((function(e){var c=e.getCLS,n=e.getFID,s=e.getFCP,i=e.getLCP,a=e.getTTFB;c(t),n(t),s(t),i(t),a(t)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(k,{})}),document.getElementById("root")),D()}},[[48,1,2]]]);
//# sourceMappingURL=main.811e3dae.chunk.js.map